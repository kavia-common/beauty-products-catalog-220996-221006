{"is_source_file": true, "format": "Python", "description": "This file contains Django REST Framework viewsets for handling API endpoints related to categories, tags, and products in a product catalog. It includes read-only views, query filtering logic for products, and an endpoint to retrieve available filter facets.", "external_files": ["models", "serializers"], "external_methods": ["Category.objects.all", "Tag.objects.all", "Product.objects.select_related", "Product.objects.prefetch_related", "Product.objects.values_list", "Product.objects.values", "Response"], "published": ["CategoryViewSet", "TagViewSet", "ProductViewSet"], "classes": [{"name": "CategoryViewSet", "description": "A read-only viewset to list and retrieve categories."}, {"name": "TagViewSet", "description": "A read-only viewset to list and retrieve tags."}, {"name": "ProductViewSet", "description": "Viewset for listing and retrieving products, with filtering capabilities and a custom 'facets' action for UI filter options."}], "methods": [{"name": "QuerySet[Product] get_queryset(self)", "description": "Constructs and returns a filtered queryset for products based on query parameters sent in the request.", "scope": "ProductViewSet", "scopeKind": "class"}, {"name": "facets(self, request, *args: Any, **kwargs: Any)", "description": "API endpoint method returning counts of brands and categories for UI filtering.", "scope": "ProductViewSet", "scopeKind": "class"}], "calls": ["Category.objects.all", "Tag.objects.all", "Product.objects.select_related", "Product.objects.prefetch_related", "Product.objects.values_list", "Product.objects.values", "Response"], "search-terms": ["Django REST ViewSet", "Product filtering", "Category API", "Tag API", "Product facets"], "state": 2, "file_id": 23, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "CategoryViewSet", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^class CategoryViewSet(mixins.ListModelMixin, mixins.RetrieveModelMixin, viewsets.GenericViewSet)/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ProductViewSet", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^class ProductViewSet(mixins.ListModelMixin, mixins.RetrieveModelMixin, viewsets.GenericViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TagViewSet", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^class TagViewSet(mixins.ListModelMixin, mixins.RetrieveModelMixin, viewsets.GenericViewSet):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "facets", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    def facets(self, request, *args: Any, **kwargs: Any):$/", "language": "Python", "kind": "member", "signature": "(self, request, *args: Any, **kwargs: Any)", "scope": "ProductViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "get_queryset", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    def get_queryset(self) -> QuerySet[Product]:$/", "language": "Python", "typeref": "typename:QuerySet[Product]", "kind": "member", "signature": "(self)", "scope": "ProductViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "lookup_field", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    lookup_field = \"slug\"$/", "language": "Python", "kind": "variable", "scope": "CategoryViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    queryset = Category.objects.all()$/", "language": "Python", "kind": "variable", "scope": "CategoryViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "queryset", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    queryset = Tag.objects.all()$/", "language": "Python", "kind": "variable", "scope": "TagViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    serializer_class = CategorySerializer$/", "language": "Python", "kind": "variable", "scope": "CategoryViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    serializer_class = ProductSerializer$/", "language": "Python", "kind": "variable", "scope": "ProductViewSet", "scopeKind": "class"}, {"_type": "tag", "name": "serializer_class", "path": "/home/kavia/workspace/code-generation/beauty-products-catalog-220996-221006/backend/catalog/views.py", "pattern": "/^    serializer_class = TagSerializer$/", "language": "Python", "kind": "variable", "scope": "TagViewSet", "scopeKind": "class"}], "hash": "459a2c5bffdc29d8071e19b689a2987f", "format-version": 4, "code-base-name": "backend", "filename": "backend/catalog/views.py", "fields": [{"name": "lookup_field = \"slug\"", "scope": "CategoryViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Category.objects.all()", "scope": "CategoryViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "queryset = Tag.objects.all()", "scope": "TagViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = CategorySerializer", "scope": "CategoryViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = ProductSerializer", "scope": "ProductViewSet", "scopeKind": "class", "description": "unavailable"}, {"name": "serializer_class = TagSerializer", "scope": "TagViewSet", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"49": ""}]}